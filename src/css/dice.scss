// Settings
$size: 70px;
$speed: 500ms;
$image-path: '../assets/images/';

// Variables (do not change)
$size-half: ($size / 2);

// Scene

.dice__scene {
  width: $size;
  height: $size;
  perspective: ($size * 3);
}

// Cube

#dice__cube {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform: translateZ(-($size-half));
  transition: transform $speed ease;

  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
    transform-style: flat;
  }
}

// Sides

.dice__side {
  position: absolute;
  width: 100%;
  height: 100%;
  background-size: 100% auto;
  background-position: center;
  background-repeat: no-repeat;
  background-color: #fff;
  box-shadow: inset 0 0 ($size / 10) rgba(0, 0, 0, 0.1);
  user-select: none;

  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
    display: none;
  }
}

@mixin sideIE {
  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
    transform: none !important;
  }
}

.dice__side--front  {
  @include sideIE;
  transform: rotateY(0deg) translateZ($size-half);
  background-image: url('#{$image-path}dice-1.png');
}

.dice__side--back {
  @include sideIE;
  transform: rotateY(180deg) translateZ($size-half);
  background-image: url('#{$image-path}dice-6.png');
}

.dice__side--right {
  @include sideIE;
  transform: rotateY(90deg) translateZ($size-half);
  background-image: url('#{$image-path}dice-4.png');
}

.dice__side--left {
  @include sideIE;
  transform: rotateY(-90deg) translateZ($size-half);
  background-image: url('#{$image-path}dice-3.png');
}

.dice__side--top {
  @include sideIE;
  transform: rotateX(90deg) translateZ($size-half);
  background-image: url('#{$image-path}dice-2.png');
}

.dice__side--bottom {
  @include sideIE;
  transform: rotateX(-90deg) translateZ($size-half);
  background-image: url('#{$image-path}dice-5.png');
}

// Cube rotations

@mixin rotateIE {
  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
    transform: none !important;

    .dice__side {
      display: block;
    }
  }
}

#dice__cube.show-front {
  @include rotateIE;
  transform: translateZ(-($size-half)) rotateY(0deg);
}

#dice__cube.show-right {
  @include rotateIE;
  transform: translateZ(-($size-half)) rotateY(-90deg);
}

#dice__cube.show-back {
  @include rotateIE;
  transform: translateZ(-($size-half)) rotateY(-180deg);
}

#dice__cube.show-left {
  @include rotateIE;
  transform: translateZ(-($size-half)) rotateY(90deg);
}

#dice__cube.show-top {
  @include rotateIE;
  transform: translateZ(-($size-half)) rotateX(-90deg);
}

#dice__cube.show-bottom {
  @include rotateIE;
  transform: translateZ(-($size-half)) rotateX(90deg);
}
